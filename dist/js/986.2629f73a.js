"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[986],{3726:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var i=n(3396),l=n(7139);const s={class:"home",style:{"padding-top":"0%"}},o={key:1,style:{width:"100%",margin:"auto","border-radius":"0",border:"solid 1px lightgrey","margin-bottom":"0"}},a=(0,i._)("br",null,null,-1),r=(0,i._)("br",null,null,-1),d=["onClick"],h=(0,i._)("div",{style:{clear:"both"}},null,-1),u=(0,i._)("br",null,null,-1),c=(0,i._)("br",null,null,-1),g=(0,i._)("hr",{style:{margin:"3px"}},null,-1),m=(0,i._)("br",null,null,-1),b=(0,i._)("br",null,null,-1),p=(0,i._)("br",null,null,-1),w=(0,i._)("br",null,null,-1),f=(0,i._)("div",{style:{clear:"both"}},null,-1);function y(e,t,n,y,k,_){const v=(0,i.up)("circle-progress");return(0,i.wg)(),(0,i.iD)("div",s,[100!=k.progress?((0,i.wg)(),(0,i.j4)(v,{key:0,style:{width:"10%","margin-left":"45%","margin-top":"20px",height:"unset"},percent:k.progress},null,8,["percent"])):((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",{id:"img",style:(0,l.j5)(`height: ${k.height}px;background: url(${k.image});background-size: 100% 100%;float:left`)},null,4),(0,i._)("div",{id:"menu",style:(0,l.j5)(`float:right ; height:${k.height}px`)},[(0,i._)("div",null,[(0,i.Uk)(" Options"),a,r,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.buttons,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e},["🖌️ Vary (Region)"!==e&&"Web"!==e&&"🔍 Custom Zoom"!==e?((0,i.wg)(),(0,i.iD)("button",{key:0,style:{margin:"5px",float:"left"},onClick:t=>_.button(e),class:"btn btn-dark"},(0,l.zw)(e),9,d)):(0,i.kq)("",!0)])))),128)),h,u,c,g]),(0,i._)("div",null,[(0,i.Uk)(" Other Operations"),m,b,(0,i._)("button",{class:"btn btn-dark",style:{width:"23%",margin:"0 1%"},onClick:t[0]||(t[0]=e=>_.download(k.image))},"Download"),p,w])],4),f]))])}n(8858),n(1318),n(3228),n(560);var k=n(1562),_=n(1076),v=n(264),x=n.n(v),C={name:"HomeView",components:{HelloWorld:k.Z,CircleProgress:x()},data(){return{text:"",result:[],progress:0,image:"",height:10,bid:""}},mounted(){this.get_image(),this.get_width()},methods:{async download(e){const t=await fetch(e),n=await t.blob(),i=URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download="image file name here",document.body.appendChild(l),l.click(),document.body.removeChild(l)},get_width(){document.getElementById("img")&&(setTimeout((()=>{this.height=document.getElementById("img").offsetWidth}),1),window.addEventListener("resize",(()=>{this.height=document.getElementById("img").offsetWidth})))},async button(e){if(0===this.balance)return this.$swal('<div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;"><span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span></div><h5>Please Charge Your Account First</h5>'),setTimeout((()=>{const e=this.$route.go||"/charge";this.$router.push(e)}),2e3),!1;var t="";t=t+this.result[e]+"\n",this.text=t+this.text,await _.Z.post("/button",{btn:e,code:this.bid,act:"u",type:e}).then((e=>e.data)).then((e=>{window.location.href="/imagine/u/"+e["code"]}))},async downloadImage(e){const t=await fetch(e),n=await t.blob(),i=URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download="image file name here",document.body.appendChild(l),l.click(),document.body.removeChild(l)},async get_image(){var e=this.$route.params.id;await _.Z.get(`/imagine-result/${e}`).then((e=>e.data)).then((t=>{console.log(t),t.result?(console.log(t),this.result=t.result,this.progress=t.percent,this.image=t.image,this.text=t.text,this.bid=t.bid,this.buttons=t.buttons):(this.progress=t.percent,setTimeout((()=>{this.get_image(e)}),5e3))}))}},watch:{progress:{handler:function(){setTimeout((()=>{this.get_width()}),500),window.addEventListener("resize",(()=>{this.height=document.getElementById("img").offsetWidth}))},deep:!0}}},E=n(89);const $=(0,E.Z)(C,[["render",y]]);var D=$}}]);
//# sourceMappingURL=986.2629f73a.js.map